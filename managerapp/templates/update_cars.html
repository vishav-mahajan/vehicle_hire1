{% extends 'admin_master.html' %}


{% block content %}
    <div id="page-wrapper">
			<div class="main-page">
                    <div class="row">
						<h3 class="title1">Update Data</h3>
						<div class="form-three widget-shadow">
							<form method="POST" enctype="multipart/form-data" class="form-horizontal">
                                {% csrf_token %}
    {% if valid %}
        <script>alert("Submitted")</script>
        <h3>Vehicle Company Added</h3>
{% elif invalid %}
    <script>alert("Invalid , Not Submitted")</script>
    <h3>Enter Again</h3>
{% endif %}


								<div class="form-group">
									<label class="col-sm-2 control-label">Vehicle Name</label>
									<div class="col-sm-8">
										<input type="text" class="form-control1" pattern="[A-Za-z]{1,}" title="Enter Alphabets Only" value="{{ vd.vehicle_name }}" name="vehicle_name" placeholder="Enter Name" required>
									</div>


								</div>

                            <div class="form-group">
                                    <label class="col-sm-2 control-label">Model</label>
                                    <div class="col-sm-8">
                                        {% if yr %}
										<input type="number" class="form-control1" value="{{ vd.vehicle_model }}"  min="2008" max="{{ yr }}" name="vehicle_model" placeholder="Enter Vehicle Model(yyyy)" required>
									{% endif %}</div>
                                </div>


                            <div class="form-group">
                                    <label class="col-sm-2 control-label">Price</label>
                                    <div class="col-sm-8">
										<input type="number" class="form-control1" value="{{ vd.vehicle_price }}" max="500" min="50" name="vehicle_price" placeholder="Price" required>
									</div>
                                </div>


								<div class="form-group">
									<label class="col-sm-2 control-label">Description</label>
									<div class="col-sm-8"><input type="text"  name="vehicle_description" value="{{ vd.vehicle_description }}" class="form-control1"></div>
								</div>

                                <div class="form-group">
                                    <label class="col-sm-2 control-label">Upload Image</label>
                                    <input class="col-lg-8" type="file" id="imgInp" value="{{ vd.vehicle_image }}" name="vehicle_image">
                                    <label class="col-sm-12 control-label"></label>
                                    <label class="col-sm-2 control-label"></label>
                                    <img class="col-md-4 ml-2" src="/media/{{ vd.vehicle_image }}"  alt="image name" style="height: 250px; width: 400px;">
                                    <img class="col-md-4" id="blah" style="height: 250px; width: 400px" src="#" alt=""/>
                                </div>

                                <div class="form-group">
                                    <div class="control-label col-sm-6">
                                <button  type="submit" class="btn btn-default">Submit</button>
                                    </div>
                                </div>
							</form>
						</div>
					</div>
            </div></div>


    <script>
    function readURL(input) {

  if (input.files && input.files[0]) {
    var reader = new FileReader();

    reader.onload = function(e) {
      $('#blah').attr('src', e.target.result);
    };

    reader.readAsDataURL(input.files[0]);
  }
}

$("#imgInp").change(function() {
  readURL(this);
});
    </script>
{% endblock content %}

